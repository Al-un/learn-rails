<%# Article definition and edition buttons %>
<div id="entity">
  <%= render partial: '/articles/article_detail', locals: { article: @entity } %>
</div>

<%# Article publications definition %>
<h3>Publications</h3>
<ul id="article_publications" class="list-group">
  <%= render @entity.article_publications %>
</ul>

<%# Catalogs search to create article publication %>
<% if session.key?(:userinfo) %>
  <h3>Search Catalog to add</h3>
  <%= form_with url: search_catalogs_path, method: :get do |form| %>

    <%= form.label :name, "Search catalog:" %>
    <%= form.text_field :name, placeholder: 'Catalog name' %>

    <%= form.hidden_field :source_id, value: @entity.id %>
    <%= form.hidden_field :partial_path, value: 'articles/catalog/searched' %>
    <%= form.submit "Search" %>

  <% end %>
<% end %>

<div id="searched_catalogs"></div>